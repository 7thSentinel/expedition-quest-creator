$bg_primary: #141414;
$bg_secondary: #212121;
$grey800: #424242;
$red700: #D32F2F;
$lightGreen900: #33691E;
$brightShadow: #616161;
$red800: #C62828;
$previewPanelWidth: 560px;
$padBase: 24px;
$hBarThickness: 42px;
$videoSize: 700px;
$border: 1px #606060 solid;
$fontSizeBase: 20px;
$bgInteractive: rgb(20,20,20);
$bgHighlight: #333;
$textDisabled: #888;

@font-face {
  font-family: 'CinzelBold';
  font-style: normal;
  font-weight: 700;
  src: local('Cinzel-Bold'), url(fonts/Cinzel-Bold.woff2) format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
}

@font-face {
  font-family: 'MinionPro';
  src: url('fonts/Minion Pro Regular.ttf') format('truetype');
}

html, body, section#react-app, textarea {
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;
  font-family: Monaco, Melo, "Ubuntu Mono", monospace;
  font-size: $fontSizeBase;
}

body > :first-child:not(#react-app) { display: none; }

#react-app > .main {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.scrollBottom {
  height: 100%;
  overflow-y: auto;
}

.dialogTitle {
  background-color: $grey800;
  margin-bottom: $padBase !important;
  padding-top: $padBase !important;
  padding-bottom: $padBase !important;
  font-family: 'CinzelBold' !important;
  font-size: 2em !important;

  &.dialogError {
    background-color: $red700 !important,
  }

  &.dialogGood {
    background-color: $lightGreen900 !important,
  }
}

.loading {
  background: $bg_primary;
  width: 100%;
  height: 100%;
  text-align: center;
  color: white;
  padding: $padBase;
  font-family: Roboto, sans-serif;
}

.splash {
  background: $bg_primary;

  .body {
    text-align: center;
    overflow-y: auto;
    flex: 10;

    &>* {
      display:block;
      margin: $padBase;
    }
  }

  h1 {
    color: white;
    font-size: 2em;
    font-weight: normal;
  }

  .previewVideo {
    background: $bg_primary;
    box-shadow: 0 0 $padBase $brightShadow;
    border-radius: 2px;
    max-width: $videoSize;
    max-height: $videoSize;
    width: 90%;
    height: 50%;
    margin-left: auto;
    margin-right: auto;
  }
}

.quest_app_bar {
  h1 {
    font-family: 'CinzelBold';
  }

  .loginState {
    margin-top: -8px;
  }

  .toolbar {
    background: $bg_secondary !important;
    height: $hBarThickness !important;

    button {
      margin: 4px 0 !important;
      min-width: 60px !important;
    }

    .errorButton {
      color: $red800;
    }
  }
}

.contents {
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;

  .quest_ide {
    flex: 10;
    display: flex;

    .editor {
      flex: 1;
    }

    .preview {
      flex: 0 0 $previewPanelWidth;
      max-width: $previewPanelWidth;

      .app_root, .editor_override {
        height: 100%;
      }

      .app, button {
        font-family: MinionPro, sans-serif !important;
      }
    }
  }

  .Resizer.horizontal {
    height: $hBarThickness;
    margin-bottom: -$hBarThickness;
    cursor: row-resize;
    width: 100%;
    margin-left: 200px;
    z-index: 1000;
  }

  .bottomPanel {
    .header {
      border-top: $border;
      border-bottom: $border;
      height: $hBarThickness - 2; // Subtract to account for border size
    }

    .console {
      width: 100%;
      height: calc(100% - #{$hBarThickness});
      display: flex;
      position: absolute;
      flex-direction: row;
      color: white;

      .interactive {
        width: 100%;
        background: $bgInteractive;

        textarea {
          resize: none;
          color: white;
          padding: $padBase/2;
          padding-left: $padBase;
          box-sizing: border-box;
          border: 0;
          width: 100%;
          height: 100%;
          overflow-y: auto;
          background: rgba(0,0,0,0);
        }
      }

      .preview {
        position: relative;
        flex: 0 0 $previewPanelWidth;

        .noScope {
          color: $textDisabled;
          margin-top: $padBase;
          padding: $padBase/2;
        }

        .scope {
          min-height: $padBase;
          padding: $padBase/2;
          padding-left: $padBase;
          border-bottom: $border;
          display:flex;
          flex-direction: row;
          cursor: pointer;
          position: relative;
          transition: background-color 0.3s ease;

          &:hover {
            background: $bgHighlight;
          }

          svg {
            position: absolute;
            top: 50%;
            margin-top: -$padBase/2;
            margin-left: -$padBase;
          }
        }
      }
    }
  }
}

/* Ace editor */
.ace_marker-layer .misspelled {
  position: absolute;
  z-index: -2;
  border-bottom: 1px solid red;
  margin-bottom: -1px;
}
.misspelled {
  border-bottom: 1px solid red;
  margin-bottom: -1px;
}
